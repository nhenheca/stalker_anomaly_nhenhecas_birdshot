#include "presets\trade_discounts.ltx"
#include "presets\trade_presets.ltx"

[trader]
buy_condition = trade_generic_buy 
sell_condition = trade_generic_sell
buy_supplies = {=toolkit_task_done(3)} supplies_4, {=toolkit_task_done(2)} supplies_3, {=toolkit_task_done(1)} supplies_2, supplies_1
buy_item_condition_factor = 0.01
buy_item_exponent = 1.75
sell_item_exponent = 0.75

discounts = discount_mechanic

[trade_generic_buy]:craft_repair_overhaul,mechanic, toolkits_h
itm_pda_common                           ;NO TRADE
itm_pda_rare                             ;NO TRADE
itm_pda_uncommon                         ;NO TRADE
pri_a25_explosive_charge_item            ;NO TRADE

[trade_generic_sell]:mechanic, toolkits_h

upgr_o_1_physical           = 1.0,1.0
upgr_o_1_magical            = 1.0,1.0
upgr_o_1_utility            = 1.0,1.0

upgr_o_2_physical           = 1.75,1.75
upgr_o_2_magical            = 1.75,1.75
upgr_o_2_utility            = 1.75,1.75

upgr_o_3_physical           = 2,2
upgr_o_3_magical            = 2,2
upgr_o_3_utility            = 2,2

upgr_w_1_internal           = 1.0,1.0
upgr_w_1_external           = 1.0,1.0
upgr_w_1_optical            = 1.0,1.0

upgr_w_2_internal           = 1.75,1.75
upgr_w_2_external           = 1.75,1.75
upgr_w_2_optical            = 1.75,1.75

upgr_w_3_internal           = 2,2
upgr_w_3_external           = 2,2
upgr_w_3_optical            = 2,2

[supplies_1]:common_stock		;-- no tools
recipe_basic_1           = 1, 1
recipe_advanced_1        = 1, 1
recipe_expert_1          = 1, 1
recipe_basic_2           = 1, 1
recipe_advanced_2        = 1, 1
recipe_expert_2          = 1, 1
recipe_basic_3           = 1, 1
recipe_advanced_3        = 1, 1
recipe_expert_3          = 1, 1

;-- Grok's Craft and Repair Overhaul
grooming                = 3, 1 
steel_wool              = 4, 1 
;-- Grok's Craft and Repair Overhaul

swiss_knife             = 4, 1
ball_hammer             = 6, 1
duct_tape               = 3, 1
grease                  = 3, 1

sharpening_stones		= 3, 1

gun_oil                 = 6, 1
gun_oil_ru_d            = 6, 1
gun_oil_ru              = 6, 1
solvent                 = 6, 1
cleaning_kit_p          = 1, 1
cleaning_kit_s          = 1, 1
cleaning_kit_r5         = 1, 1
cleaning_kit_r7         = 1, 1
toolkit_p               = 1, 1
;toolkit_s               = 1, 1
;toolkit_r5              = 1, 1
;toolkit_r7              = 1, 1

sewing_kit_b            = 3, 1
sewing_kit_a            = 3, 1
sewing_kit_h            = 3, 1
glue_b                  = 3, 1
glue_a                  = 3, 1
glue_e                  = 3, 1
armor_repair_fa         = 1, 1
;helmet_repair_kit       = 1, 1
;light_repair_kit        = 1, 1
;medium_repair_kit       = 1, 1
;heavy_repair_kit        = 1, 1
;exo_repair_kit          = 1, 1

leatherman_tool         = 1, 1
rasp_tool               = 5, 1
ramrod_tool             = 5, 1
sewing_thread           = 8, 1
heavy_sewing_thread     = 3, 1

kerosene                             = 2, 1
radio2                               = 4, 1
flashlight_broken                    = 4, 1
gloves                               = 4, 1
boots                                = 4, 1
synthrope                            = 4, 1
cooking                              = 1, 1

[supplies_2]:supplies_1		;-- basic tools delivered

upgr_o_1_physical           = 1,0.30
upgr_o_1_magical            = 1,0.30
upgr_o_1_utility            = 1,0.30

upgr_o_2_physical           = 1,0.15
upgr_o_2_magical            = 1,0.15
upgr_o_2_utility            = 1,0.15

upgr_o_3_physical           = 1,0.05
upgr_o_3_magical            = 1,0.05
upgr_o_3_utility            = 1,0.05

upgr_w_1_internal           = 1,0.35
upgr_w_1_external           = 1,0.35
upgr_w_1_optical            = 1,0.35

upgr_w_2_internal           = 1,0.20
upgr_w_2_external           = 1,0.20
upgr_w_2_optical            = 1,0.20

upgr_w_3_internal           = 1,0.05
upgr_w_3_external           = 1,0.05
upgr_w_3_optical            = 1,0.05

;-- Grok's Craft and Repair Overhaul
grooming                = 4, 1
steel_wool              = 5, 1
;-- Grok's Craft and Repair Overhaul

swiss_knife             = 4, 1
sharpening_stones		= 3, 1

ball_hammer             = 10, 1
duct_tape               = 4, 1
grease                  = 4, 1

gun_oil                 = 7, 1
gun_oil_ru_d            = 7, 1
gun_oil_ru              = 7, 1
solvent                 = 7, 1
cleaning_kit_p          = 2, 1
cleaning_kit_s          = 2, 1
cleaning_kit_r5         = 2, 1
cleaning_kit_r7         = 2, 1
toolkit_p               = 1, 1
toolkit_s               = 1, 1
;toolkit_r5              = 1, 1
;toolkit_r7              = 1, 1

sewing_kit_b            = 2, 1
sewing_kit_a            = 2, 1
sewing_kit_h            = 2, 1
glue_b                  = 2, 1
glue_a                  = 2, 1
glue_e                  = 2, 1
armor_repair_fa         = 2, 1
;helmet_repair_kit       = 1, 1
light_repair_kit        = 1, 1
;medium_repair_kit       = 1, 1
;heavy_repair_kit        = 1, 1
;exo_repair_kit          = 1, 1

leatherman_tool         = 2, 1
rasp_tool               = 8, 1
ramrod_tool             = 8, 1
sewing_thread           = 10, 1
heavy_sewing_thread     = 4, 1

kerosene                             = 2, 1
radio2                               = 4, 1
flashlight_broken                    = 4, 1
gloves                               = 4, 1
boots                                = 4, 1
synthrope                            = 4, 1
cooking                              = 1, 1


[supplies_3]:supplies_2		;-- advanced tools delivered

;-- Grok's Craft and Repair Overhaul
grooming                = 5, 1
steel_wool              = 6, 1
;-- Grok's Craft and Repair Overhaul

swiss_knife             = 4, 1
sharpening_stones		= 3, 1

ball_hammer             = 14, 1
duct_tape               = 5, 1
grease                  = 5, 1

gun_oil                 = 8, 1
gun_oil_ru_d            = 8, 1
gun_oil_ru              = 8, 1
solvent                 = 8, 1
cleaning_kit_p          = 3, 1
cleaning_kit_s          = 3, 1
cleaning_kit_r5         = 3, 1
cleaning_kit_r7         = 3, 1
toolkit_p               = 2, 1
toolkit_s               = 2, 1
toolkit_r5              = 1, 1
;toolkit_r7              = 1, 1

sewing_kit_b            = 3, 1
sewing_kit_a            = 3, 1
sewing_kit_h            = 3, 1
glue_b                  = 3, 1
glue_a                  = 3, 1
glue_e                  = 3, 1
armor_repair_fa         = 2, 1
;helmet_repair_kit       = 2, 1
light_repair_kit        = 2, 1
medium_repair_kit       = 1, 1
;heavy_repair_kit        = 1, 1
;exo_repair_kit          = 1, 1

leatherman_tool         = 2, 1
rasp_tool               = 10, 1
ramrod_tool             = 10, 1
sewing_thread           = 10, 1
heavy_sewing_thread     = 5, 1

kerosene                             = 2, 1
radio2                               = 4, 1
flashlight_broken                    = 4, 1
gloves                               = 4, 1
boots                                = 4, 1
synthrope                            = 4, 1
cooking                              = 1, 1

[supplies_4]:supplies_3		;-- expert tools delivered

;-- Grok's Craft and Repair Overhaul
grooming                = 6, 1
steel_wool              = 8, 1
;-- Grok's Craft and Repair Overhaul

swiss_knife             = 4, 1
sharpening_stones		= 3, 1

ball_hammer             = 20, 1
duct_tape               = 6, 1
grease                  = 6, 1

gun_oil                 = 9, 1
gun_oil_ru_d            = 9, 1
gun_oil_ru              = 9, 1
solvent                 = 9, 1
cleaning_kit_p          = 3, 1
cleaning_kit_s          = 3, 1
cleaning_kit_r5         = 3, 1
cleaning_kit_r7         = 3, 1
toolkit_p               = 2, 1
toolkit_s               = 2, 1
toolkit_r5              = 2, 1
toolkit_r7              = 1, 1

sewing_kit_b            = 3, 1
sewing_kit_a            = 3, 1
sewing_kit_h            = 3, 1
glue_b                  = 3, 1
glue_a                  = 3, 1
glue_e                  = 3, 1
armor_repair_fa         = 3, 1
;helmet_repair_kit       = 2, 1
light_repair_kit        = 2, 1
medium_repair_kit       = 2, 1
heavy_repair_kit        = 2, 1
;exo_repair_kit          = 1, 1

leatherman_tool         = 3, 1
rasp_tool               = 12, 1
ramrod_tool             = 12, 1
sewing_thread           = 12, 1
heavy_sewing_thread     = 6, 1

kerosene                             = 2, 1
radio2                               = 4, 1
flashlight_broken                    = 4, 1
gloves                               = 4, 1
boots                                = 4, 1
synthrope                            = 4, 1
cooking                              = 1, 1